{% extends 'base.html.twig' %}

{% block jumbotron %}
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">The Gambling Club Poker League</h1>
        </div>
    </div>

{% endblock %}


{% block main %}






    {% include "partial/_league_table.html.twig" %}

    <hr class="my-4">

    <h2>Games</h2>

    {% for game in games %}

        <h3>{{ game.date|date("D jS, M Y") }}</h3>
        <h4><a href="{{ path('host_show', { 'id': game.host.id }) }}">{{ game.host }}</a> <small class="text-muted">{{ game.host.location }}</small></h4>

        <div class="row">
            <div class="col-sm-6">
                <ul>
                    <li>Host: {{ game.host }}</li>
                    <li>League: {{ game.isLeague }}</li>
                    <li>Buy in: £{{ game.buyIn }}</li>
                    {% if game.snacksProvider %}
                        <li>Snacks: {{ game.snacks }} by {{ game.snacksProvider }}</li>
                    {% endif %}
                </ul>
            </div>
            <div class="col-sm-6">
                {% if game.spotifyPlaylistUri %}
                    <iframe src="https://open.spotify.com/embed?uri={{ game.spotifyPlaylistUri }}" width="100%" height="80" frameborder="0" allowtransparency="true"></iframe>
                {% endif %}
            </div>
        </div>
        <div class="row">
            <div class="col">
                <table class="table text-center table-striped table-responsive-md">
                    <thead class="">
                    <tr>
                        <th>#</th>
                        <th class="text-left">Player</th>
                        <th>Points</th>
                        <th>Winnnigs</th>
                        <th>Rebuys</th>
                        <th>Net</th>
                        <th>League Player</th>
                    </tr>
                    </thead>

                    {# @var result \AppBundle\Entity\Result #}
                    {% for result in game.results %}
                        <tr>
                            <td>{{ result.position }}</td>
                            <td class="text-left"><a href="{{ path('player_show', { 'id': result.player.id }) }}">{{ result.player }}</a></td>
                            <td>{{ result.leaguePoints|number_format(league_points_decimal_places) }}</td>
                            <td>£{{ result.winnings|number_format(0) }}</td>
                            <td>{{ result.noOfRebuys|number_format(0) }}</td>
                            <td>£{{ result.net|number_format(0) }}</td>
                            <td>
                                {% if result.player.leaguePlayer %}
                                    <i class="material-icons">done</i>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}

                </table>

            </div>
        </div>







        <hr class="my-5">


    {% endfor %}


{% endblock %}


